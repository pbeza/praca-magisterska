.\" Automatically generated by Pandoc 1.17.2
.\"
.TH "MYSCM\-SRV" "1" "July 4, 2017" "myscm\-srv User Manuals" ""
.hy
.SH NAME
.PP
myscm\-srv \- server side of the MySCM application managing software and
configuration of the workstations running GNU/Linux.
.PP
MySCM is simple Software Configuration Management (SCM) tool for
managing software and configuration of the clients running GNU/Linux
distributions.
This application is intended to create and customize GNU/Linux system
image that can be applied by the clients running \f[C]myscm\-cli\f[]
application.
.SH SYNOPSIS
.PP
myscm\-srv.py [\f[I]OPTIONS\f[]] [\f[B]\-\-scan\f[]]
[\f[B]\-\-gen\-img\f[] \f[I]CLIENT_AIDE_DB_VER\f[]]
.SH DESCRIPTION
.PP
This is (yet another) Software Configuration Management (SCM)
application that differs from major existing solutions (e.g.
Puppet, Chef, Ansible and Salt) in a way of using it.
Instead of writing a complex configuration, which describes in detail
the expected state of the client system, you can simply configure
reference machine in a way you want to configure your client machines
and than clone it to them.
.PP
This application is briefly referred as a \f[C]server\f[], but its
primary role is to create GNU/Linux system image that can be applied by
client\[aq]s \f[C]myscm\-cli\f[] application that modifies client\[aq]s
system configuration to match server\[aq]s configuration, NOT to share
the created system image with the clients.
.PP
System image is archive file that contains all of the information needed
to modify clients\[aq] configuration and software to make them clones of
the \f[C]server\f[] system.
.PP
Sharing system image generated by this application is handled by
myscm\-cli application using peer\-to\-peer connection.
Therefore myscm\-srv should be referred as a master or reference system
rather than server.
.SH OPTIONS
.TP
.B \-\-aide\-conf=\f[I]PATH\f[]
Specify AIDE configuration file path.
This file determines which directories of the server\[aq]s system are
scanned and synchronized with the client\[aq]s system.
If not specified \f[C]/etc/myscm\-srv/aide.conf\f[] AIDE configuration
file is read by default.
.RS
.RE
.TP
.B \-c \f[I]FILE\f[], \-\-config=\f[I]FILE\f[]
Read configuration from specified \f[I]FILE\f[] instead of default
\f[C]config.ini\f[] file.
.RS
.RE
.TP
.B \-g \f[I]CLIENT_AIDE_DB_VER\f[], \-\-gen\-img=\f[I]CLIENT_AIDE_DB_VER\f[]
Generate system image that can be applied by any client whose system
configuration is represented by existing AIDE database identified by
non\-negative integer number \f[I]CLIENT_AIDE_DB_VER\f[] which
corresponds to \f[C]X\f[] in \f[C]aide.db.X\f[] file created with
\f[C]\-\-scan\f[] flag.
Generated system image is an archive file saved in location specified in
configuration file.
System image contains all of the files necessary to modify client\[aq]s
configuration to match server\[aq]s configuration.
If client has never synchronized its configuration with server, then
\f[C]0\f[] should be specified as a \f[I]CLIENT_AIDE_DB_VER\f[].
Client application (\f[C]myscm\-cli\f[]) has option that prints out
client\[aq]s current \f[I]CLIENT_AIDE_DB_VER\f[].
.RS
.RE
.TP
.B \-s, \-\-scan
Scan system using AIDE, create AIDE\[aq]s new \f[C]aide.db\f[] reference
database and rename old one to \f[C]aide.db.X\f[] where \f[C]X\f[] is
incremented integer.
This operation is intended to provide AIDE database with a summary of
the current state of the server\[aq]s software without deleting the old
state file.
Scanning may take a long time to complete depending on the AIDE
configuration file that determines which directories are scanned (see
\f[C]\-\-aide\-conf\f[] option for details).
.RS
.RE
.TP
.B \-\-ssl\-cert=\f[I]PATH\f[]
Specify full path to the server\[aq]s SSL certificate that is used to
digitally sign system image generated with
\f[C]\-\-gen\-img\ option\f[].
If this option is not present, then default path
\f[C]/etc/myscm\-srv/ssl.sig\f[] is used.
.RS
.RE
.TP
.B \-t SEC, \-\-time\-prop=\f[I]SEC\f[]
Specify time interval in seconds between sending configuration to
clients (minimum \f[C]3\f[], maximum \f[C]315360000\f[] seconds).
Default value is \f[C]3600\f[] sec.
.RS
.RE
.TP
.B \-v, \-\-verbose
Increase output and log verbosity.
Default value is \f[C]0\f[].
.RS
.RE
.TP
.B \-h, \-\-help
Show help message (which is short version of this manual page) and exit.
.RS
.RE
.TP
.B \-\-version
Print version information and exit.
.RS
.RE
.SH EXIT STATUS
.PP
If no error occurred the exit status is \f[C]0\f[].
Otherwise \f[C]1\f[] is returned.
.SH COPYRIGHT
.PP
Copyright © 2017 Patryk Bęza
.PD 0
.P
.PD
License GPLv3+: GNU GPL version 3 or later
<http://gnu.org/licenses/gpl.html>.
.PD 0
.P
.PD
This is free software: you are free to change and redistribute it.
.PD 0
.P
.PD
There is NO WARRANTY, to the extent permitted by law.
.SH BUGS
.PP
Email bug reports to the bug\-reporting address
<bezap@student.mini.pw.edu.pl>.
For now, no bug tracker is available.
.SH SEE ALSO
.PP
\f[C]myscm\-cli\f[] (1).
.PP
You can learn more details about MySCM software from project white
paper.
The myscm\-srv source code and all documentation may be downloaded from
GitHub repository of the project <https://github.com/pbeza/myscm>.
.SH NOTES
.PP
This software is part of the master thesis project.
To learn more about this implementation, refer to project white paper.
.SH AUTHORS
Patryk Bęza.
