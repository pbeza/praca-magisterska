\documentclass[thesis]{subfiles}

\begin{document}

\chapter{Implementacja}
\label{chapter:implementacja}

Kod źródłowy projektu został napisany w~języku~\texttt{C}. Kod jest zgodny ze standardem~\gls{posix}. W~rozdziale przedstawiono szczegóły implementacyjne projektu.

\section{Wykorzystane biblioteki}
\subsection{\texttt{OpenSSL}}
\subsection{\texttt{glibc}}
\section{Utworzenie daemona}
\section{Procesy i wątki}
\section{Obsługa sygnałów systemowych}
\section{Zmienne globalne}
\noindent Zmienne globalne zostały wykorzystane tylko tam gdzie to~konieczne, tzn.~w:
\begin{itemize}
	\item \glslink{signal-handler}{signal handlerach}\footnote{Zmienne te~muszą być typu \texttt{volatile sig\_atomic\_t}.},
\end{itemize}
\section{Zmienne \texttt{volatile}}
\section{Semafory, mutexy}
\section{Shared memory segments and message queues}

\section{Wybrane makra}

\begin{lstlisting}[language=c,numbers=none,caption={Makro wykonujące wyrażenie dopóki kod błędu jest równy \texttt{EINTR}}]
TEMP_FAILURE_RETRY(expr)
\end{lstlisting}

\section{Wykorzystane narzędzia}

W~tym rozdziale opisano z~jakich narzędzi i~jakiej konfiguracji korzystano w~trakcie implementacji.

\subsection{\texttt{cmake}}
\subsubsection{Generowanie dokumentacji \texttt{Doxygen}}
\subsubsection{Generowanie paczek \texttt{deb} i innych}

\subsection{Edytor tekstu \texttt{vim}}

Do pisania kodu źródłowego projektu oraz niniejszej dokumentacji wykorzystano edytor tekstu~\texttt{vim} w~wersji~7.4, rozbudowany o wtyczki~(\emph{ang.~plugins}).

\subsubsection{Wykorzystane wtyczki \texttt{vim}}

\noindent Lista wtyczek \texttt{vim}, wykorzystanych w czasie implementacji:
\begin{itemize}
	\item\texttt{NerdTree} --- narzędzie do wyświetlania drzewa systemu plików i~nawigowania po nim~\cite{nerdtree-vimorg,nerdtree-github},
	\item\texttt{ctags} --- narzędzie do~generowania metainformacji do~wygodnego nawigowania po kodzie źródłowym~\cite{ctags},
	% http://stackoverflow.com/questions/934233/cscope-or-ctags-why-choose-one-over-the-other
	% http://cscope.sourceforge.net/cscope_maps.vim
	\item\texttt{cscope} --- narzędzie do~wygodnego przeglądania kodu źródłowego, bardziej rozbudowane od \texttt{ctags}~\cite{cscope}.
\end{itemize}

\subsubsection{Konfiguracja \texttt{.vimrc}}

W celu włączenia automatycznego ładowania pliku \texttt{tags} przez \texttt{vim}, do pliku \path{~/.vimrc} dodano następującą konfigurację:
\begin{lstlisting}[language=bash,numbers=none,caption={Konfiguracja \texttt{.vimrc}}]
set tags=build/tags,tags,./tags;$HOME
\end{lstlisting}
Konfiguracja ta powoduje, że \texttt{vim} automatycznie wczytuje plik \texttt{tags}, szukając go kolejno~w:
\begin{itemize}[font=\ttfamily]
	\item katalogu \path{$PWD/build},
	\item katalogu \path{$PWD},
	\item katalogu, w którym znajduje się aktualnie otwarty plik w \texttt{vim},
	\item katalogach poniżej katalogu \path{$PWD}, ale nie niżej niż \path{$HOME}.
\end{itemize}
Zmienna systemowa \texttt{\gls{PWD}} oznacza aktualny katalog roboczy.

\subsection{\texttt{latexmk}}

\begin{lstlisting}[language=bash,numbers=none,caption={Uruchomienie ciągłej kompilacji \LaTeX do PDF}]
latexmk -pvc -pdf
\end{lstlisting}

\subsection{Menadżer plików \texttt{Midnight Commander}}

Do sprawnego poruszania się po drzewie katalogów projektu wykorzystano menadżer plików \texttt{Midnight~Commander}.

\end{document}
