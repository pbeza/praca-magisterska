% MYSCM-CLI(1) myscm-cli User Manuals
% Patryk Bęza
% August 4, 2017

# NAME

`myscm-cli` - client side of the mySCM application managing software and
configuration of the GNU/Linux workstations.

mySCM is simple Software Configuration Management (SCM) tool for managing
software and configuration of the clients running GNU/Linux distributions.
This application is intended to apply system image created with `myscm-srv`
application.

# SYNOPSIS

myscm-cli.py [*options*] *action*

Functionality of this application boils down to applying changes in client's system configuration described within mySCM system image that was created with `--gen-img` option of the `myscm-srv` application.  In fact `myscm-cli` application does more than that.  Particularly, before applying changes, it's able to verify both authenticity of the mySCM system image (by verifying its SSL digital signature) and its logical consistency.  What's more `myscm-cli` is able to download mySCM system image from other host using SFTP protocol using credentials provided in configuration file.

# OPTIONS

-c *FILE*, \--config=*FILE*
:   Read `myscm-cli` configuration from specified *FILE* instead of default
    `/etc/myscm-cli/config.ini` file.  This file determines e.g. logging
    options, SSL certificate path that is used to verify digital SSL signature
    of the myscm system image and more.

\--force
:   Take default actions and do not ask interactive questions while running
    `--apply-img` option.

-l, \--list
:   List all locally available mySCM system images created with `myscm-srv`
    `--gen-img` and print if they have respective verified SSL digital
    signatures.  Signatures need to be placed in the same dictinary as mySCM
    system images to be recognized (by default in
    '/var/lib/myscm-cli/downloaded').

-p PROTO, \--protocol=*PROTO*
:   Select protocol that will be used to download newest system image generated
    by the `myscm-srv` (default is 'FTP') with `--update` option.  Allowed
    options are: 'SFTP' and 'FTP'.

\--ssl-cert=*PATH*
:   Full path to the server's SSL certificate that is being used to verify
    signature of the system image generated by the `myscm-srv` (default value:
    '/etc/myscm-cli/ssl.sig').

\--ssl-pubkey=*PATH*
:   Full path to the server's public key of the SSL certificate that is being
    used to verify signature of the myscm system image generated with the
    `myscm-srv` `--gen-img` option.

# ACTIONS

\--aply-img=*SYS_IMG_VER*
:   Apply changes to the client's system effectively upgrading it to the system
    state identified bye unique `SYS_IMG_VER` identifier.

\--update
:   Update system image by downloading it from one of the clients predefined in
    configuration file.

\--upgrade
:   Equivalent of running `--update` and then `--apply-img` option.

-k, \--config-check
:   Check if application configuration is valid.  If it's valid, then exit
    status is 0 (see `$?` variable) and `Config OK` message is printed on
    stdout.  Otherwise exit status is 1 and no message is printed.

\--verify-img=*PATH*
:   Verify signature of the given system image.

-v, \--verbose
:   Increase output and log verbosity.  Default value is `0`.

-h, \--help
:   Show help message (which is short version of this manual page) and exit.

\--version
:   Print version information and exit.

# EXIT STATUS

If no error occurred the exit status is `0`.  Otherwise `1` is returned.

# COPYRIGHT

Copyright © 2017 Patryk Bęza  
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.  
This is free software: you are free to change and redistribute it.  
There is NO WARRANTY, to the extent permitted by law.

# BUGS

Email bug reports to the bug-reporting address <bezap@student.mini.pw.edu.pl>.
For now, no bug tracker is available.

# SEE ALSO

`myscm-srv` (1).

You can learn more details about mySCM software from project white paper.  The
myscm-cli source code and all documentation may be downloaded from GitHub
repository of the project <https://github.com/pbeza/myscm>.

# NOTES

This software is part of the master thesis project.  To learn more about this
implementation, refer to project white paper.
