/** \file
 * Common configuration for both server and client.
 */
#ifndef _COMMON_CONFIG_H
#define _COMMON_CONFIG_H

#include <stdint.h>

/**
 * Processor architecture (eg. `x86_64`).
 */
#define HOST_SYSTEM_PROCESSOR		"@CMAKE_HOST_SYSTEM_PROCESSOR@"

/**
 * Short version of the license.
 */
#define COPYRIGHT			"Copyright (C) 2016 @AUTHOR@."\
					"\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>."\
					"\nThis is free software: you are free to change and redistribute it."\
					"\nThere is NO WARRANTY, to the extent permitted by law.\n"

/**
 * Author of the project.
 */
#cmakedefine AUTHOR			"@AUTHOR@"

/**
 * Author's e-mail.
 */
#cmakedefine AUTHOR_EMAIL		"@AUTHOR_EMAIL@"

/**
 * If `CMAKE_BUILD_TYPE=Debug`, then `DEBUG` is defined. Useful for eg. defining
 * function printing debug messages.
 */
#cmakedefine DEBUG

/**
 * Common settings for client and server.
 */
typedef struct common_config_t {
	/**
	 * Project name propagated from CMake.
	 */
	const char *project_name;
	/**
	 * Project version propagated from CMake.
	 */
	const char *project_version;
	/**
	 * First section of project's help.
	 */
	const char *help_prefix;
	/**
	 * Selected runtime options are represented by single bits set to 1.
	 */
	uint32_t selected_options;
	/**
	 * Server's listening port. Client uses this port to connect to server.
	 */
	uint16_t port;
} common_config_t;

#endif
